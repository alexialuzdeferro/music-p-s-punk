<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ¦‡ Gothic Post-Punk Player</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        @keyframes pulse-glow {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.05); }
        }
        .pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }

        @keyframes bounce-slow {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .bounce-slow { animation: bounce-slow 1s ease-in-out infinite; }

        .scrollbar-custom::-webkit-scrollbar { width: 8px; }
        .scrollbar-custom::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }
        .scrollbar-custom::-webkit-scrollbar-thumb {
            background: var(--scroll-color);
            border-radius: 10px;
        }
        * {
            transition: background-color 0.5s ease, border-color 0.5s ease;
        }
    </style>
</head>
<body class="m-0 p-0">

<!-- PLAYER DE ÃUDIO REAL E FUNCIONAL -->
<audio id="audioPlayer"></audio>

<div id="app"></div>

<script>

    /* SEUS ARQUIVOS DE ÃUDIO â€” SUBSTITUIR AQUI */
    const tracks = [
        { id: 1, title: "Shadowlands",     artist: "The Cure",       duration: "4:23", url: "musicas/shadowlands.mp3", color: "#DC143C" },
        { id: 2, title: "Melancholic Dreams", artist: "Joy Division", duration: "3:58", url: "musicas/melancholic.mp3", color: "#8B008B" },
        { id: 3, title: "Nocturnal Whispers", artist: "Bauhaus", duration: "5:12", url: "musicas/nocturnal.mp3", color: "#6A0DAD" },
    ];

    let currentTrack = 0;
    let isPlaying = false;
    let theme = 'dark';
    let audioInterval;

    const audio = document.getElementById("audioPlayer");

    /* CARREGAR MÃšSICA CORRETA */
    function loadTrack() {
        audio.src = tracks[currentTrack].url;
        audio.load();
        if (isPlaying) {
            audio.play();
        }
    }

    audio.onended = () => nextTrack();

    /* VISUAL DO PLAYER */
    function getThemeClasses() {
        const themes = {
            dark:   { bg:'bg-gradient-to-br from-gray-900 via-black to-gray-900', card:'bg-gray-800/50', text:'text-gray-100', secondary:'text-gray-400' },
            light:  { bg:'bg-gray-100', card:'bg-white', text:'text-gray-900', secondary:'text-gray-600' },
            purple: { bg:'bg-gradient-to-br from-purple-950 via-purple-900 to-black', card:'bg-purple-900/50', text:'text-purple-50', secondary:'text-purple-300' }
        };
        return themes[theme];
    }

    function updateAudioBars() {
        const bars = document.querySelectorAll(".audio-bar");
        bars.forEach(b => {
            const h = Math.random() * 100;
            b.style.height = isPlaying ? `${Math.max(h, 10)}%` : "5%";
            b.style.opacity = isPlaying ? "0.9" : "0.2";
        });
    }

    function togglePlay() {
        isPlaying = !isPlaying;
        if (isPlaying) {
            audio.play();
            audioInterval = setInterval(updateAudioBars, 150);
        } else {
            audio.pause();
            clearInterval(audioInterval);
        }
        render();
    }

    function nextTrack() {
        currentTrack = (currentTrack + 1) % tracks.length;
        loadTrack();
        render();
    }

    function prevTrack() {
        currentTrack = (currentTrack - 1 + tracks.length) % tracks.length;
        loadTrack();
        render();
    }

    function selectTrack(index) {
        currentTrack = index;
        loadTrack();
        isPlaying = true;
        audio.play();
        render();
    }

    function changeTheme(newTheme) {
        theme = newTheme;
        render();
    }

    function render() {
        const t = tracks[currentTrack];
        const c = t.color;
        const themeClasses = getThemeClasses();

        document.documentElement.style.setProperty("--scroll-color", c);

        document.getElementById("app").innerHTML = `
            <div class="min-h-screen ${themeClasses.bg} ${themeClasses.text} p-6">

                <!-- Troca de Tema -->
                <div class="flex justify-end gap-3 mb-6">
                    <button onclick="changeTheme('dark')" class="w-10 h-10 rounded-full bg-black border-4 ${theme==='dark'?'border-red-500 scale-110':'border-gray-700'}"></button>
                    <button onclick="changeTheme('light')" class="w-10 h-10 rounded-full bg-white border-4 ${theme==='light'?'border-purple-500 scale-110':'border-gray-300'}"></button>
                    <button onclick="changeTheme('purple')" class="w-10 h-10 rounded-full bg-purple-700 border-4 ${theme==='purple'?'border-yellow-400 scale-110':'border-purple-700'}"></button>
                </div>

                <div class="max-w-5xl mx-auto">

                    <!-- CARD PRINCIPAL -->
                    <div class="${themeClasses.card} backdrop-blur-xl rounded-3xl shadow-2xl p-8 border-4"
                        style="border-color:${c}; box-shadow:0 0 60px ${c}60">

                        <!-- VISUALIZER -->
                        <div class="relative w-80 h-80 mx-auto mb-8 rounded-3xl overflow-hidden shadow-2xl"
                             style="background: radial-gradient(circle, ${c}60, ${c}20, #00000090)">

                            <div class="absolute inset-0 flex items-end justify-center gap-1 p-6">
                                ${Array(20).fill(0).map(() =>
                                    `<div class="audio-bar flex-1 rounded-t-xl transition-all duration-150"
                                        style="height:5%; background:${c}; opacity:.2"></div>`
                                ).join("")}
                            </div>

                            <div class="absolute inset-0 flex items-center justify-center">
                                <svg class="${isPlaying?'pulse-glow':''}" width="120" height="120"
                                     xmlns="http://www.w3.org/2000/svg"
                                     fill="none" stroke="${c}" stroke-width="2"
                                     style="filter:drop-shadow(0 0 30px ${c})">
                                    <circle cx="9" cy="12" r="1"/><circle cx="15" cy="12" r="1"/>
                                    <path d="M8 20v2h8v-2"/>
                                    <path d="m12.5 17-.5-1-.5 1h1z"/>
                                    <path d="M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20"/>
                                </svg>
                            </div>
                        </div>

                        <!-- INFORMAÃ‡Ã•ES -->
                        <div class="text-center mb-8">
                            <h1 class="text-4xl font-bold mb-3" style="color:${c}">${t.title}</h1>
                            <p class="text-xl ${themeClasses.secondary}">${t.artist}</p>
                            <p class="text-sm ${themeClasses.secondary} opacity-70">${t.duration}</p>
                        </div>

                        <!-- CONTROLES -->
                        <div class="flex items-center justify-center gap-6 mb-8">
                            <button onclick="prevTrack()" class="p-5 rounded-full bg-gray-700/80 hover:bg-gray-600">
                                â—€â—€
                            </button>

                            <button onclick="togglePlay()"
                                class="p-8 rounded-full"
                                style="background:${c}; box-shadow:0 0 40px ${c}">
                                ${isPlaying ? "II" : "â–¶"}
                            </button>

                            <button onclick="nextTrack()" class="p-5 rounded-full bg-gray-700/80 hover:bg-gray-600">
                                â–¶â–¶
                            </button>
                        </div>

                        <!-- LISTA DE FAIXAS -->
                        <div class="max-h-80 overflow-y-auto scrollbar-custom p-4">
                            ${tracks.map((track, i) => `
                                <div onclick="selectTrack(${i})"
                                    class="p-4 mb-2 rounded-2xl cursor-pointer border-2 
                                           ${i===currentTrack?'bg-black/40 border-red-500':'bg-black/20 border-gray-700'}">
                                    <p class="text-lg font-bold" style="color:${track.color}">${track.title}</p>
                                    <p class="text-sm opacity-80">${track.artist}</p>
                                </div>
                            `).join("")}
                        </div>

                    </div>
                </div>
            </div>
        `;
    }

    loadTrack();
    render();

</script>
</body>
</html>
